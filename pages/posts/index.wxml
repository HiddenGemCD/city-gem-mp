<!--pages/posts/index.wxml-->
<view class="wrapper">

  <!-- header--trending -->
  <view class="header">
    <view class="flex">
      <image class="icon" src="/commons/assets/icons/fire.png"></image>
    <text class="header-text">Trending</text>
    </view>
  </view>

  <!-- tab--all/city -->
  <view class="tabs flex">
    <picker bindchange="bindPickerCategoryChange" value="{{categoryIndex}}" range="{{categories}}">
      <view class="tab" bindtap='filtered'>{{current_category}}</view>
    </picker>

      <picker bindchange="bindPickerCityChange" value="{{cityIndex}}" range="{{cities}}">
    <view class="tab">{{current_city}}</view>
    </picker>
  </view>

  <!-- post  -->
  <block wx:for="{{posts}}" wx:for-item="post" wx:for-index="postsIndex" wx:key="posts">
    <view class="post ">
      <view class="rank">{{postsIndex + 1}}</view>
      <view class="post-content">
        <view class="post-content-top">
          <view class="category">{{post.category}} </view> 
          <view>@</view>
          <view class="name">{{post.name}}</view>
        </view>
        <view class="post-content-bottom">
          <image class="map-marker" src='/commons/assets/icons/map-marker.png'></image>
          <view class="city">{{post.city.name}}</view>
        </view>
        
      </view>
    </view>
  </block>
</view>


